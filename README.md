# WEBPRG-project
## 1. Анализ задания и обзор аналогов
[Ссылка на комментируемый гугл док с постановкой задачи, обзором аналогов и функциональными требованиями](https://docs.google.com/document/d/11IPTOpYrngHfhjV18yGlvcDVPRP77uxREJacoG-V0WQ/edit?usp=sharing)
## 2. Проектирование прецедентов использования
### Список акторов
1. Guest - неавторизованный пользователь, может только просматривать профили остальных пользователей
2. User - авторизованный пользователь, при регистрации происходит оценка ценности его времени, обладает функционалом для взаимодействия с другими пользователями, может ограничить доступ к группе
3. Admin - администратор системы, модерирует пользователей и обладает большей частью функционала авторизованного пользователя
4. Resercher - исследователь. Исследователем пользователя может сделать только администратор. Обладает доступом к инструментам анализа поведения пользователей. Так же обладает возможностью предлагать способы улучшения работы системы

### Usecase-диаграмма
<img src="https://user-images.githubusercontent.com/44303944/140403020-e81e0113-dba4-483b-924c-6b2d75fc944e.png" alt="webprgusecase drawio" width="50%"/>

### Спецификации прецедентов использования
- Регистрация и аутентификация - доступ есть только у не зарегистрированных пользователей;
- Просмотр профиля - доступен всем пользователям, формируется страница с указанием личных данных пользователя(набор публично доступных данных определяется пользователем, в случае если доступ к профилю пользователя ограничен, происходит редирект на главную страницу системы;
- Унижение пользователя - специальная функция для того, чтобы обозначить негативное отношение к другому пользователю и существенно повлиять на его оценку. Когда пользователь унижен, появляется возможность заблокировать его;
- Выражение восхищения пользователем - функция, обратная унижению пользователя;
- Обновление персональной информации - доступно только авторизованным пользователям. Пользователь заполняет форму, а после система автоматически обновляет ценность его времени;
- Создание группы пользователей - после создания пользователь становится владельцем группы получает возможность управления группой. Группа - сущность, которая влияет на ценность времени, состоящих в ней пользователей. Создается автоматически при создании групового чата. Может быть публичной и приватной. Чат может быть отключен в любое время;
- Отправка сообщения - сообщения могут отправлять все пользователи, кроме гостей. Удаление сообщений невозможно, но при этом возможна отправка временных сообщений;
- Формирование отчёта о поведении пользователя - доступно администраторам и исследователям. По запросу система генерирует страницу, на которой приводится анонимизированная статистика взаимодействия пользователя с другими пользователями;
- Предложение изменений и запрос вознаграждения - в случае, если исследователь видит возможность для уточнения оценки, он может заполнить специальную форму и запросить вознаграждение. Администратор рассмотрит предложение и решит, учитывать ли его. Функция выплаты вознаграждения выходит за рамки реализуемой системы.


## 3. Проектирование БД
### Список сущностей
<table>
    <thead>
        <tr>
            <th>Сущность</th>
            <th>Свойства</th>
            <th>Комментарии</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td rowspan=8>User</td>
            <td>User ID</td>
            <td>Идентификационный номер, обязательное, уникальное</td>
        </tr>
        <tr>
            <td>First name</td>
            <td>Имя, обязательное</td>
        </tr>
        <tr>
            <td>Last name</td>
            <td>Фамилия, обязательное</td>
        </tr>
        <tr>
            <td>Username</td>
            <td>Имя пользователя, обязательное, уникальное</td>
        </tr>
        <tr>
            <td>Email</td>
            <td>Электронная почта, обязательное, уникальное</td>
        </tr>
        <tr>
            <td>Password</td>
            <td>Пароль, обязательное</td>
        </tr>
        <tr>
            <td>is_Blocked</td>
            <td>Является ли пользователь заблокированным на сайте, обязательное</td>
        </tr>
      <tr>
            <td>Time value</td>
            <td>Ценность времени пользователя, обязательное</td>
        </tr>
        <tr>
            <td rowspan=5>Message</td>
            <td>Message ID</td>
            <td>Идентификационный номер, обязательное, уникальное</td>
        </tr>
        <tr>
            <td>Author ID</td>
            <td>Идентификационный номер отправителя, обязательное</td>
        </tr>
        <tr>
            <td>Receiver ID</td>
            <td>Идентификационный номер получателя, обязательное</td>
        </tr>
        <tr>
            <td>Text</td>
            <td>Текст сообщения, необязательное</td>
        </tr>
        <tr>
            <td>Content dir</td>
            <td>Путь до статических файлов, прикреплённых к сообщению, необязательное</td>
        </tr>
        <tr>
            <td rowspan=5>Post</td>
            <td>Post ID</td>
            <td>Идентификационный номер, обязательное, уникальное</td>
        </tr>
        <tr>
            <td>Author ID</td>
            <td>Идентификационный номер отправителя, обязательное</td>
        </tr>
        <tr>
            <td>Text</td>
            <td>Текст сообщения, необязательное</td>
        </tr>
        <tr>
            <td>Rating</td>
            <td>Рейтинг поста, необязательное</td>
        </tr>
        <tr>
            <td>Content dir</td>
            <td>Путь до статических файлов, прикреплённых к сообщению, необязательное</td>
        </tr>
        <tr>
            <td rowspan=5>Comment</td>
            <td>Comment ID</td>
            <td>Идентификационный номер, обязательное, уникальное</td>
        </tr>
        <tr>
            <td>Author ID</td>
            <td>Идентификационный номер отправителя, обязательное</td>
        </tr>
        <tr>
            <td>Post ID</td>
            <td>Идентификационный номер поста, к которому относится комментарий, обязательное</td>
        </tr>
        <tr>
            <td>Text</td>
            <td>Текст комментария, необязательное</td>
        </tr>
        <tr>
            <td>Content dir</td>
            <td>Путь до статических файлов, прикреплённых к сообщению, необязательное</td>
        </tr>
        <tr>
            <td rowspan=4>Reaction</td>
            <td>Author ID</td>
            <td>Идентификационный номер пользователя, выражающего своё отношение, обязательное</td>
        </tr>
        <tr>
            <td>Object ID</td>
            <td>Идентификационный номер пользователя, в отношении которого было высказано мнение, обязательное</td>
        </tr>
        <tr>
            <td>is_Positive</td>
            <td>Является ли реакция положительной, обязательное</td>
        </tr>
        <tr>
            <td>Comment</td>
            <td>Текст сообщения, необязательное</td>
        </tr>
        <tr>
            <td rowspan=5>Group message</td>
            <td>Group message ID</td>
            <td>Идентификационный номер группового сообщения, обязательное, уникальное</td>
        </tr>
        <tr>
            <td>User ID</td>
            <td>Идентификационный номер пользователя, в отношении которого было высказано мнение, обязательное</td>
        </tr>
        <tr>
            <td>Group ID</td>
            <td>Является ли реакция положительной, обязательное</td>
        </tr>
        <tr>
            <td>Text</td>
            <td>Текст сообщения, необязательное</td>
        </tr>
        <tr>
            <td>Content dir</td>
            <td>Путь до статических файлов, прикреплённых к сообщению, необязательное</td>
        </tr>
        <tr>
            <td rowspan=3>Staff</td>
            <td>is_Admin</td>
            <td>Является ли пользователь администратором системы, обязательное</td>
        </tr>
        <tr>
            <td>User ID</td>
            <td>Идентификационный номер пользователя, обязательное, уникальное</td>
        </tr>
        <tr>
            <td>is_Moderator</td>
            <td>Является ли пользователь модератором, обязательное</td>
        </tr>
        <tr>
            <td rowspan=4>Group</td>
            <td>Group ID</td>
            <td>Идентификационный номер группы, обязательное, уникальное</td>
        </tr>
        <tr>
            <td>is_Private</td>
            <td>Является ли группа закрытой, обязательное</td>
        </tr>
      <tr>
            <td>Name</td>
            <td>Название группы, обязательное</td>
        </tr>
      <tr>
            <td>Time value multiplier</td>
            <td>Коэфициент ценности принадлежности к определенной группе, обязательное</td>
        </tr>
        <tr>
            <td rowspan=3>Group member</td>
            <td>Group ID</td>
            <td>Идентификационный номер группового сообщения, обязательное, уникальное</td>
        </tr>
        <tr>
            <td>User ID</td>
            <td>Идентификационный номер пользователя, в отношении которого было высказано мнение, обязательное</td>
        </tr>
        <tr>
            <td>Role</td>
            <td>Должность пользователя в группе, обязательное</td>
        </tr>
        <tr>
            <td rowspan=2>Researcher</td>
            <td>User ID</td>
            <td>Идентификационный номер пользователя, в отношении которого было высказано мнение, обязательное</td>
        </tr>
        <tr>
            <td>Organization</td>
            <td>Организация, в которой работает исследователь, обязательное</td>
        </tr>
        <tr>
            <td rowspan=4>Research_Researcher</td>
            <td>Researcher ID</td>
            <td>Идентификационный номер исследователя, обязательное</td>
        </tr>
        <tr>
            <td>Research ID</td>
            <td>Идентификационный номер исследования, обязательное</td>
        </tr>
        <tr>
            <td>Reward part</td>
            <td>Часть от полагаемого вознаграждения, обязательное</td>
        </tr>
        <tr>
            <td>is_Paid</td>
            <td>Выплачено ли вознаграждение, обязательное</td>
        </tr>
        <tr>
            <td rowspan=4>Research</td>
            <td>Research ID</td>
            <td>Идентификационный номер исследования, обязательное, уникальное</td>
        </tr>
        <tr>
            <td>Research link</td>
            <td>Ссылка на исследование, обязательное</td>
        </tr>
        <tr>
            <td>Research rating</td>
            <td>Рейтинг исследования, обязательное</td>
        </tr>
        <tr>
            <td>Reward</td>
            <td>Вознаграждение, обязательное</td>
        </tr>
    </tbody>
</table>

### Список связей
<table>
    <thead>
        <tr>
            <th>Связь</th>
            <th>Сущность 1</th>
            <th>Сущность 2</th>
            <th>Тип связи</th>
        </tr>
    </thead>
    <tbody>
      <tr>
        <td>Участники сообщества</td>
        <td>Пользователь</td>
        <td>Сообщество</td>
        <td>Многие ко многим</td>
      </tr>
      <tr>
        <td>Авторы исследования</td>
        <td>Исследователь</td>
        <td>Исследование</td>
        <td>Многие ко многим</td>
      </tr>
      <tr>
        <td>Пользователь отправил сообщение в групповой чат</td>
        <td>Пользователь</td>
        <td>Группа</td>
        <td>Многие ко многим</td>
      </tr>
      <tr>
        <td>ПОльзователь высказал своё отношение к другому пользователю</td>
        <td>Пользователь</td>
        <td>Пользователь</td>
        <td>Один к одному</td>
      </tr>
      <tr>
        <td>Пользователь является администратором или модератором</td>
        <td>Пользователь</td>
        <td>Персонал</td>
        <td>Один к одному</td>
      </tr>
      <tr>
        <td>Пользователь отправил сообщение</td>
        <td>Пользователь</td>
        <td>Сообщение</td>
        <td>Один ко многим</td>
      </tr>
      <tr>
        <td>Пользователь получил сообщение</td>
        <td>Пользователь</td>
        <td>Сообщение</td>
        <td>Один ко многим</td>
      </tr>
      <tr>
        <td>Пользователь создал пост</td>
        <td>Пользователь</td>
        <td>Пост</td>
        <td>Один ко многим</td>
      </tr>
      <tr>
        <td>Пользователь оставил комментарий к посту</td>
        <td>Пользователь</td>
        <td>Пост</td>
        <td>Многие ко многим</td>
      </tr>
    </tbody>
</table>

### ER-диаграмма в нотации Чена
![chen drawio](https://user-images.githubusercontent.com/44303944/144518233-d11c2955-f68d-42ad-a1c4-67bda1fb2db7.png)


### Даталогическая модель
<img width="932" alt="Снимок экрана 2021-11-20 в 00 14 14" src="https://user-images.githubusercontent.com/44303944/142692604-9a1c1c83-13c9-4c9b-9492-66bb2d7bf173.png">

## 4. Проектирование интерфейсов
### Список интерфейсов
- Отправка сообщения
- Регистрация в системе
- Аутентификация в системе
- Создание группы
- Добавление прав персонала сервиса
- Добавление в исследователи
- Отправка исследования
- Просмотр исследований
- Просмотр исследования
- Главное меню
- Создание поста
- Реакция на другого пользователя
- Просмотр реакций на себя
- Страница пользователя
- Отправка исследования

### Эскизы интерфейсов
#### 1. Отправка сообщения
![message_send drawio (1)](https://user-images.githubusercontent.com/44303944/144520573-6bab47db-6030-44e3-ab38-78d69a1e2719.png)
#### 2. Регистрация в системе
![reg drawio](https://user-images.githubusercontent.com/44303944/144521445-19ae0b58-9066-4f03-8875-517d9672057d.png)
#### 3. Аутентификация в системе
![si drawio](https://user-images.githubusercontent.com/44303944/144521686-507915ea-0384-4fe9-8317-35a3c03011c3.png)
#### 4. Создание группы
![cg drawio](https://user-images.githubusercontent.com/44303944/144556940-547d5089-d165-4bb9-9ee4-a3db5905efe5.png)
#### 5. Добавление прав персонала сервиса
![astaff drawio](https://user-images.githubusercontent.com/44303944/144557299-ee6a5e1a-481a-4995-8632-4e1c14a845a2.png)
#### 6. Добавление в исследователи
![aresr drawio](https://user-images.githubusercontent.com/44303944/144557742-e079194a-4618-4192-8458-0e89bf780593.png)
#### 7. Отправка исследования
![subres drawio](https://user-images.githubusercontent.com/44303944/144558094-cb075d12-00f7-4146-ac5f-936da7e32dcd.png)
#### 8. Просмотр исследований
![rs drawio](https://user-images.githubusercontent.com/44303944/144559960-a42de11f-fceb-44f9-88d4-ee9c7981e861.png)
#### 9. Просмотр исследования
![rch drawio](https://user-images.githubusercontent.com/44303944/144559931-8fffeec3-462b-461f-add1-f0368eba4684.png)
#### 10. Главное меню
![Main menu drawio](https://user-images.githubusercontent.com/44303944/144560279-b9cc138b-7ddd-4fa1-aa37-9fbd80b04f9e.png)
#### 11. Создание поста
<img width="693" alt="Снимок экрана 2021-12-03 в 10 33 31" src="https://user-images.githubusercontent.com/44303944/144563418-98c29281-6b75-4643-bc79-e54da408043e.png">

#### 12. Реакция на другого пользователя
<img width="732" alt="Снимок экрана 2021-12-03 в 10 34 08" src="https://user-images.githubusercontent.com/44303944/144563456-9610f691-733f-4ab8-a80f-f5e68e8b95bf.png">

#### 13. Просмотр реакций на себя
<img width="718" alt="Снимок экрана 2021-12-03 в 10 34 15" src="https://user-images.githubusercontent.com/44303944/144563643-7ae332b1-4de9-4538-bb1e-6a998f9fe052.png">

#### 14. Страница пользователя
<img width="713" alt="Снимок экрана 2021-12-03 в 10 34 24" src="https://user-images.githubusercontent.com/44303944/144563676-ad1e3a3b-6fd7-4c21-9b4a-8edaa5bd70c0.png">

#### 15. Отправка исследования
![SR drawio](https://user-images.githubusercontent.com/44303944/144564491-34b04de7-2ee0-4396-ad7e-a181a2cc3848.png)

### Диаграмма интерфейсов
![webprg UML drawio](https://user-images.githubusercontent.com/44303944/144574515-08cfd140-2a0d-4407-95b3-f440c0bb3834.png)
